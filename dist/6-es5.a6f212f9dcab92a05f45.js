!function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function e(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{JXP8:function(t,e,i){!function(t){"use strict";var e=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(t){L.Util.setOptions(this,t),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var e=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,e?this._withAnimation:this._noAnimation),this._markerCluster=e?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(t){if(t instanceof L.LayerGroup)return this.addLayers([t]);if(!t.getLatLng)return this._nonPointGroup.addLayer(t),this.fire("layeradd",{layer:t}),this;if(!this._map)return this._needsClustering.push(t),this.fire("layeradd",{layer:t}),this;if(this.hasLayer(t))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(t,this._maxZoom),this.fire("layeradd",{layer:t}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var e=t,i=this._zoom;if(t.__parent)for(;e.__parent._zoom>=i;)e=e.__parent;return this._currentShownBounds.contains(e.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(t,e):this._animationAddLayerNonAnimated(t,e)),this},removeLayer:function(t){return t instanceof L.LayerGroup?this.removeLayers([t]):t.getLatLng?this._map?t.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(t)),this._removeLayer(t,!0),this.fire("layerremove",{layer:t}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),t.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(t)&&(this._featureGroup.removeLayer(t),t.clusterShow&&t.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,t)&&this.hasLayer(t)&&this._needsRemoving.push({layer:t,latlng:t._latlng}),this.fire("layerremove",{layer:t}),this):(this._nonPointGroup.removeLayer(t),this.fire("layerremove",{layer:t}),this)},addLayers:function(t,e){if(!L.Util.isArray(t))return this.addLayer(t);var i,n=this._featureGroup,o=this._nonPointGroup,r=this.options.chunkedLoading,s=this.options.chunkInterval,a=this.options.chunkProgress,l=t.length,h=0,u=!0;if(this._map){var d=(new Date).getTime(),c=L.bind((function(){var _=(new Date).getTime();for(this._map&&this._unspiderfy&&this._unspiderfy();h<l&&!(r&&h%200==0&&(new Date).getTime()-_>s);h++)if((i=t[h])instanceof L.LayerGroup)u&&(t=t.slice(),u=!1),this._extractNonGroupLayers(i,t),l=t.length;else if(i.getLatLng){if(!this.hasLayer(i)&&(this._addLayer(i,this._maxZoom),e||this.fire("layeradd",{layer:i}),i.__parent&&2===i.__parent.getChildCount())){var p=i.__parent.getAllChildMarkers();n.removeLayer(p[0]===i?p[1]:p[0])}}else o.addLayer(i),e||this.fire("layeradd",{layer:i});a&&a(h,l,(new Date).getTime()-d),h===l?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(c,this.options.chunkDelay)}),this);c()}else for(var _=this._needsClustering;h<l;h++)(i=t[h])instanceof L.LayerGroup?(u&&(t=t.slice(),u=!1),this._extractNonGroupLayers(i,t),l=t.length):i.getLatLng?this.hasLayer(i)||_.push(i):o.addLayer(i);return this},removeLayers:function(t){var e,i,n=t.length,o=this._featureGroup,r=this._nonPointGroup,s=!0;if(!this._map){for(e=0;e<n;e++)(i=t[e])instanceof L.LayerGroup?(s&&(t=t.slice(),s=!1),this._extractNonGroupLayers(i,t),n=t.length):(this._arraySplice(this._needsClustering,i),r.removeLayer(i),this.hasLayer(i)&&this._needsRemoving.push({layer:i,latlng:i._latlng}),this.fire("layerremove",{layer:i}));return this}if(this._unspiderfy){this._unspiderfy();var a=t.slice(),l=n;for(e=0;e<l;e++)(i=a[e])instanceof L.LayerGroup?(this._extractNonGroupLayers(i,a),l=a.length):this._unspiderfyLayer(i)}for(e=0;e<n;e++)(i=t[e])instanceof L.LayerGroup?(s&&(t=t.slice(),s=!1),this._extractNonGroupLayers(i,t),n=t.length):i.__parent?(this._removeLayer(i,!0,!0),this.fire("layerremove",{layer:i}),o.hasLayer(i)&&(o.removeLayer(i),i.clusterShow&&i.clusterShow())):(r.removeLayer(i),this.fire("layerremove",{layer:i}));return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer((function(t){t.off(this._childMarkerEventHandlers,this),delete t.__parent}),this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var t=new L.LatLngBounds;this._topClusterLevel&&t.extend(this._topClusterLevel._bounds);for(var e=this._needsClustering.length-1;e>=0;e--)t.extend(this._needsClustering[e].getLatLng());return t.extend(this._nonPointGroup.getBounds()),t},eachLayer:function(t,e){var i,n,o,r=this._needsClustering.slice(),s=this._needsRemoving;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(r),n=r.length-1;n>=0;n--){for(i=!0,o=s.length-1;o>=0;o--)if(s[o].layer===r[n]){i=!1;break}i&&t.call(e,r[n])}this._nonPointGroup.eachLayer(t,e)},getLayers:function(){var t=[];return this.eachLayer((function(e){t.push(e)})),t},getLayer:function(t){var e=null;return t=parseInt(t,10),this.eachLayer((function(i){L.stamp(i)===t&&(e=i)})),e},hasLayer:function(t){if(!t)return!1;var e,i=this._needsClustering;for(e=i.length-1;e>=0;e--)if(i[e]===t)return!0;for(e=(i=this._needsRemoving).length-1;e>=0;e--)if(i[e].layer===t)return!1;return!(!t.__parent||t.__parent._group!==this)||this._nonPointGroup.hasLayer(t)},zoomToShowLayer:function(t,e){var i=this._map;"function"!=typeof e&&(e=function(){});var n=function n(){!i.hasLayer(t)&&!i.hasLayer(t.__parent)||this._inZoomAnimation||(this._map.off("moveend",n,this),this.off("animationend",n,this),i.hasLayer(t)?e():t.__parent._icon&&(this.once("spiderfied",e,this),t.__parent.spiderfy()))};t._icon&&this._map.getBounds().contains(t.getLatLng())?e():t.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",n,this),this._map.panTo(t.getLatLng())):(this._map.on("moveend",n,this),this.on("animationend",n,this),t.__parent.zoomToBounds())},onAdd:function(t){var e,i,n;if(this._map=t,!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(t),this._nonPointGroup.addTo(t),this._gridClusters||this._generateInitialClusters(),this._maxLat=t.options.crs.projection.MAX_LATITUDE,e=0,i=this._needsRemoving.length;e<i;e++)(n=this._needsRemoving[e]).newlatlng=n.layer._latlng,n.layer._latlng=n.latlng;for(e=0,i=this._needsRemoving.length;e<i;e++)this._removeLayer((n=this._needsRemoving[e]).layer,!0),n.layer._latlng=n.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),i=this._needsClustering,this._needsClustering=[],this.addLayers(i,!0)},onRemove:function(t){t.off("zoomend",this._zoomEnd,this),t.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(t){for(var e=t;e&&!e._icon;)e=e.__parent;return e||null},_arraySplice:function(t,e){for(var i=t.length-1;i>=0;i--)if(t[i]===e)return t.splice(i,1),!0},_removeFromGridUnclustered:function(t,e){for(var i=this._map,n=this._gridUnclustered,o=Math.floor(this._map.getMinZoom());e>=o&&n[e].removeObject(t,i.project(t.getLatLng(),e));e--);},_childMarkerDragStart:function(t){t.target.__dragStart=t.target._latlng},_childMarkerMoved:function(t){if(!this._ignoreMove&&!t.target.__dragStart){var e=t.target._popup&&t.target._popup.isOpen();this._moveChild(t.target,t.oldLatLng,t.latlng),e&&t.target.openPopup()}},_moveChild:function(t,e,i){t._latlng=e,this.removeLayer(t),t._latlng=i,this.addLayer(t)},_childMarkerDragEnd:function(t){var e=t.target.__dragStart;delete t.target.__dragStart,e&&this._moveChild(t.target,e,t.target._latlng)},_removeLayer:function(t,e,i){var n=this._gridClusters,o=this._gridUnclustered,r=this._featureGroup,s=this._map,a=Math.floor(this._map.getMinZoom());e&&this._removeFromGridUnclustered(t,this._maxZoom);var l,h=t.__parent;for(this._arraySplice(h._markers,t);h&&(h._childCount--,h._boundsNeedUpdate=!0,!(h._zoom<a));)e&&h._childCount<=1?(l=h._markers[0]===t?h._markers[1]:h._markers[0],n[h._zoom].removeObject(h,s.project(h._cLatLng,h._zoom)),o[h._zoom].addObject(l,s.project(l.getLatLng(),h._zoom)),this._arraySplice(h.__parent._childClusters,h),h.__parent._markers.push(l),l.__parent=h.__parent,h._icon&&(r.removeLayer(h),i||r.addLayer(l))):h._iconNeedsUpdate=!0,h=h.__parent;delete t.__parent},_isOrIsParent:function(t,e){for(;e;){if(t===e)return!0;e=e.parentNode}return!1},fire:function(t,e,i){if(e&&e.layer instanceof L.MarkerCluster){if(e.originalEvent&&this._isOrIsParent(e.layer._icon,e.originalEvent.relatedTarget))return;t="cluster"+t}L.FeatureGroup.prototype.fire.call(this,t,e,i)},listens:function(t,e){return L.FeatureGroup.prototype.listens.call(this,t,e)||L.FeatureGroup.prototype.listens.call(this,"cluster"+t,e)},_defaultIconCreateFunction:function(t){var e=t.getChildCount(),i=" marker-cluster-";return new L.DivIcon({html:"<div><span>"+e+"</span></div>",className:"marker-cluster"+(i+=e<10?"small":e<100?"medium":"large"),iconSize:new L.Point(40,40)})},_bindEvents:function(){var t=this._map,e=this.options.showCoverageOnHover;(this.options.spiderfyOnMaxZoom||this.options.zoomToBoundsOnClick)&&this.on("clusterclick",this._zoomOrSpiderfy,this),e&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),t.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(t){for(var e=t.layer,i=e;1===i._childClusters.length;)i=i._childClusters[0];i._zoom===this._maxZoom&&i._childCount===e._childCount&&this.options.spiderfyOnMaxZoom?e.spiderfy():this.options.zoomToBoundsOnClick&&e.zoomToBounds(),t.originalEvent&&13===t.originalEvent.keyCode&&this._map._container.focus()},_showCoverage:function(t){var e=this._map;this._inZoomAnimation||(this._shownPolygon&&e.removeLayer(this._shownPolygon),t.layer.getChildCount()>2&&t.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(t.layer.getConvexHull(),this.options.polygonOptions),e.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var t=this.options.showCoverageOnHover,e=this._map;(this.options.spiderfyOnMaxZoom||this.options.zoomToBoundsOnClick)&&this.off("clusterclick",this._zoomOrSpiderfy,this),t&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),e.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var t=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,t),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),t),this._currentShownBounds=t}},_generateInitialClusters:function(){var t=Math.ceil(this._map.getMaxZoom()),e=Math.floor(this._map.getMinZoom()),i=this.options.maxClusterRadius,n=i;"function"!=typeof i&&(n=function(){return i}),null!==this.options.disableClusteringAtZoom&&(t=this.options.disableClusteringAtZoom-1),this._maxZoom=t,this._gridClusters={},this._gridUnclustered={};for(var o=t;o>=e;o--)this._gridClusters[o]=new L.DistanceGrid(n(o)),this._gridUnclustered[o]=new L.DistanceGrid(n(o));this._topClusterLevel=new this._markerCluster(this,e-1)},_addLayer:function(t,e){var i,n,o=this._gridClusters,r=this._gridUnclustered,s=Math.floor(this._map.getMinZoom());for(this.options.singleMarkerMode&&this._overrideMarkerIcon(t),t.on(this._childMarkerEventHandlers,this);e>=s;e--){i=this._map.project(t.getLatLng(),e);var a=o[e].getNearObject(i);if(a)return a._addChild(t),void(t.__parent=a);if(a=r[e].getNearObject(i)){var l=a.__parent;l&&this._removeLayer(a,!1);var h=new this._markerCluster(this,e,a,t);o[e].addObject(h,this._map.project(h._cLatLng,e)),a.__parent=h,t.__parent=h;var u=h;for(n=e-1;n>l._zoom;n--)u=new this._markerCluster(this,n,u),o[n].addObject(u,this._map.project(a.getLatLng(),n));return l._addChild(u),void this._removeFromGridUnclustered(a,e)}r[e].addObject(t,i)}this._topClusterLevel._addChild(t),t.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer((function(t){t instanceof L.MarkerCluster&&t._iconNeedsUpdate&&t._updateIcon()}))},_enqueue:function(t){this._queue.push(t),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var t=0;t<this._queue.length;t++)this._queue[t].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var t=Math.round(this._map._zoom);this._processQueue(),this._zoom<t&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,t)):this._zoom>t?(this._animationStart(),this._animationZoomOut(this._zoom,t)):this._moveEnd()},_getExpandedVisibleBounds:function(){return this.options.removeOutsideVisibleBounds?L.Browser.mobile?this._checkBoundsMaxLat(this._map.getBounds()):this._checkBoundsMaxLat(this._map.getBounds().pad(1)):this._mapBoundsInfinite},_checkBoundsMaxLat:function(t){var e=this._maxLat;return void 0!==e&&(t.getNorth()>=e&&(t._northEast.lat=1/0),t.getSouth()<=-e&&(t._southWest.lat=-1/0)),t},_animationAddLayerNonAnimated:function(t,e){if(e===t)this._featureGroup.addLayer(t);else if(2===e._childCount){e._addToMap();var i=e.getAllChildMarkers();this._featureGroup.removeLayer(i[0]),this._featureGroup.removeLayer(i[1])}else e._updateIcon()},_extractNonGroupLayers:function(t,e){var i,n=t.getLayers(),o=0;for(e=e||[];o<n.length;o++)(i=n[o])instanceof L.LayerGroup?this._extractNonGroupLayers(i,e):e.push(i);return e},_overrideMarkerIcon:function(t){return t.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[t]}})}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(t,e){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),t),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(t,e){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),t),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(t,e){this._animationAddLayerNonAnimated(t,e)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(t,e){var i,n=this._getExpandedVisibleBounds(),o=this._featureGroup,r=Math.floor(this._map.getMinZoom());this._ignoreMove=!0,this._topClusterLevel._recursively(n,t,r,(function(r){var s,a=r._latlng,l=r._markers;for(n.contains(a)||(a=null),r._isSingleParent()&&t+1===e?(o.removeLayer(r),r._recursivelyAddChildrenToMap(null,e,n)):(r.clusterHide(),r._recursivelyAddChildrenToMap(a,e,n)),i=l.length-1;i>=0;i--)n.contains((s=l[i])._latlng)||o.removeLayer(s)})),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(n,e),o.eachLayer((function(t){t instanceof L.MarkerCluster||!t._icon||t.clusterShow()})),this._topClusterLevel._recursively(n,t,e,(function(t){t._recursivelyRestoreChildPositions(e)})),this._ignoreMove=!1,this._enqueue((function(){this._topClusterLevel._recursively(n,t,r,(function(t){o.removeLayer(t),t.clusterShow()})),this._animationEnd()}))},_animationZoomOut:function(t,e){this._animationZoomOutSingle(this._topClusterLevel,t-1,e),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),t,this._getExpandedVisibleBounds())},_animationAddLayer:function(t,e){var i=this,n=this._featureGroup;n.addLayer(t),e!==t&&(e._childCount>2?(e._updateIcon(),this._forceLayout(),this._animationStart(),t._setPos(this._map.latLngToLayerPoint(e.getLatLng())),t.clusterHide(),this._enqueue((function(){n.removeLayer(t),t.clusterShow(),i._animationEnd()}))):(this._forceLayout(),i._animationStart(),i._animationZoomOutSingle(e,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(t,e,i){var n=this._getExpandedVisibleBounds(),o=Math.floor(this._map.getMinZoom());t._recursivelyAnimateChildrenInAndAddSelfToMap(n,o,e+1,i);var r=this;this._forceLayout(),t._recursivelyBecomeVisible(n,i),this._enqueue((function(){if(1===t._childCount){var s=t._markers[0];this._ignoreMove=!0,s.setLatLng(s.getLatLng()),this._ignoreMove=!1,s.clusterShow&&s.clusterShow()}else t._recursively(n,i,o,(function(t){t._recursivelyRemoveChildrenFromMap(n,o,e+1)}));r._animationEnd()}))},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(t){return new L.MarkerClusterGroup(t)};var i=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(t,e,i,n){L.Marker.prototype.initialize.call(this,i?i._cLatLng||i.getLatLng():new L.LatLng(0,0),{icon:this,pane:t.options.clusterPane}),this._group=t,this._zoom=e,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,i&&this._addChild(i),n&&this._addChild(n)},getAllChildMarkers:function(t,e){t=t||[];for(var i=this._childClusters.length-1;i>=0;i--)this._childClusters[i].getAllChildMarkers(t);for(var n=this._markers.length-1;n>=0;n--)e&&this._markers[n].__dragStart||t.push(this._markers[n]);return t},getChildCount:function(){return this._childCount},zoomToBounds:function(t){for(var e,i=this._childClusters.slice(),n=this._group._map,o=n.getBoundsZoom(this._bounds),r=this._zoom+1,s=n.getZoom();i.length>0&&o>r;){r++;var a=[];for(e=0;e<i.length;e++)a=a.concat(i[e]._childClusters);i=a}o>r?this._group._map.setView(this._latlng,r):o<=s?this._group._map.setView(this._latlng,s+1):this._group._map.fitBounds(this._bounds,t)},getBounds:function(){var t=new L.LatLngBounds;return t.extend(this._bounds),t},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(t,e){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(t),t instanceof L.MarkerCluster?(e||(this._childClusters.push(t),t.__parent=this),this._childCount+=t._childCount):(e||this._markers.push(t),this._childCount++),this.__parent&&this.__parent._addChild(t,!0)},_setClusterCenter:function(t){this._cLatLng||(this._cLatLng=t._cLatLng||t._latlng)},_resetBounds:function(){var t=this._bounds;t._southWest&&(t._southWest.lat=1/0,t._southWest.lng=1/0),t._northEast&&(t._northEast.lat=-1/0,t._northEast.lng=-1/0)},_recalculateBounds:function(){var t,e,i,n,o=this._markers,r=this._childClusters,s=0,a=0,l=this._childCount;if(0!==l){for(this._resetBounds(),t=0;t<o.length;t++)this._bounds.extend(i=o[t]._latlng),s+=i.lat,a+=i.lng;for(t=0;t<r.length;t++)(e=r[t])._boundsNeedUpdate&&e._recalculateBounds(),this._bounds.extend(e._bounds),s+=(i=e._wLatLng).lat*(n=e._childCount),a+=i.lng*n;this._latlng=this._wLatLng=new L.LatLng(s/l,a/l),this._boundsNeedUpdate=!1}},_addToMap:function(t){t&&(this._backupLatlng=this._latlng,this.setLatLng(t)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(t,e,i){this._recursively(t,this._group._map.getMinZoom(),i-1,(function(t){var i,n,o=t._markers;for(i=o.length-1;i>=0;i--)(n=o[i])._icon&&(n._setPos(e),n.clusterHide())}),(function(t){var i,n,o=t._childClusters;for(i=o.length-1;i>=0;i--)(n=o[i])._icon&&(n._setPos(e),n.clusterHide())}))},_recursivelyAnimateChildrenInAndAddSelfToMap:function(t,e,i,n){this._recursively(t,n,e,(function(o){o._recursivelyAnimateChildrenIn(t,o._group._map.latLngToLayerPoint(o.getLatLng()).round(),i),o._isSingleParent()&&i-1===n?(o.clusterShow(),o._recursivelyRemoveChildrenFromMap(t,e,i)):o.clusterHide(),o._addToMap()}))},_recursivelyBecomeVisible:function(t,e){this._recursively(t,this._group._map.getMinZoom(),e,null,(function(t){t.clusterShow()}))},_recursivelyAddChildrenToMap:function(t,e,i){this._recursively(i,this._group._map.getMinZoom()-1,e,(function(n){if(e!==n._zoom)for(var o=n._markers.length-1;o>=0;o--){var r=n._markers[o];i.contains(r._latlng)&&(t&&(r._backupLatlng=r.getLatLng(),r.setLatLng(t),r.clusterHide&&r.clusterHide()),n._group._featureGroup.addLayer(r))}}),(function(e){e._addToMap(t)}))},_recursivelyRestoreChildPositions:function(t){for(var e=this._markers.length-1;e>=0;e--){var i=this._markers[e];i._backupLatlng&&(i.setLatLng(i._backupLatlng),delete i._backupLatlng)}if(t-1===this._zoom)for(var n=this._childClusters.length-1;n>=0;n--)this._childClusters[n]._restorePosition();else for(var o=this._childClusters.length-1;o>=0;o--)this._childClusters[o]._recursivelyRestoreChildPositions(t)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(t,e,i,n){var o,r;this._recursively(t,e-1,i-1,(function(t){for(r=t._markers.length-1;r>=0;r--)o=t._markers[r],n&&n.contains(o._latlng)||(t._group._featureGroup.removeLayer(o),o.clusterShow&&o.clusterShow())}),(function(t){for(r=t._childClusters.length-1;r>=0;r--)o=t._childClusters[r],n&&n.contains(o._latlng)||(t._group._featureGroup.removeLayer(o),o.clusterShow&&o.clusterShow())}))},_recursively:function(t,e,i,n,o){var r,s,a=this._childClusters,l=this._zoom;if(e<=l&&(n&&n(this),o&&l===i&&o(this)),l<e||l<i)for(r=a.length-1;r>=0;r--)(s=a[r])._boundsNeedUpdate&&s._recalculateBounds(),t.intersects(s._bounds)&&s._recursively(t,e,i,n,o)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var t=this.options.opacity;return this.setOpacity(0),this.options.opacity=t,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(t){this._cellSize=t,this._sqCellSize=t*t,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(t,e){var i=this._getCoord(e.x),n=this._getCoord(e.y),o=this._grid,r=o[n]=o[n]||{},s=r[i]=r[i]||[],a=L.Util.stamp(t);this._objectPoint[a]=e,s.push(t)},updateObject:function(t,e){this.removeObject(t),this.addObject(t,e)},removeObject:function(t,e){var i,n,o=this._getCoord(e.x),r=this._getCoord(e.y),s=this._grid,a=s[r]=s[r]||{},l=a[o]=a[o]||[];for(delete this._objectPoint[L.Util.stamp(t)],i=0,n=l.length;i<n;i++)if(l[i]===t)return l.splice(i,1),1===n&&delete a[o],!0},eachObject:function(t,e){var i,n,o,r,s,a,l=this._grid;for(i in l)for(n in s=l[i])for(o=0,r=(a=s[n]).length;o<r;o++)t.call(e,a[o])&&(o--,r--)},getNearObject:function(t){var e,i,n,o,r,s,a,l,h=this._getCoord(t.x),u=this._getCoord(t.y),d=this._objectPoint,c=this._sqCellSize,_=null;for(e=u-1;e<=u+1;e++)if(o=this._grid[e])for(i=h-1;i<=h+1;i++)if(r=o[i])for(n=0,s=r.length;n<s;n++)a=r[n],((l=this._sqDist(d[L.Util.stamp(a)],t))<c||l<=c&&null===_)&&(c=l,_=a);return _},_getCoord:function(t){var e=Math.floor(t/this._cellSize);return isFinite(e)?e:t},_sqDist:function(t,e){var i=e.x-t.x,n=e.y-t.y;return i*i+n*n}},L.QuickHull={getDistant:function(t,e){return(e[0].lng-e[1].lng)*(t.lat-e[0].lat)+(e[1].lat-e[0].lat)*(t.lng-e[0].lng)},findMostDistantPointFromBaseLine:function(t,e){var i,n,o,r=0,s=null,a=[];for(i=e.length-1;i>=0;i--)(o=this.getDistant(n=e[i],t))>0&&(a.push(n),o>r&&(r=o,s=n));return{maxPoint:s,newPoints:a}},buildConvexHull:function(t,e){var i=[],n=this.findMostDistantPointFromBaseLine(t,e);return n.maxPoint?i=(i=i.concat(this.buildConvexHull([t[0],n.maxPoint],n.newPoints))).concat(this.buildConvexHull([n.maxPoint,t[1]],n.newPoints)):[t[0]]},getConvexHull:function(t){var e,i=!1,n=!1,o=!1,r=!1,s=null,a=null,l=null,h=null,u=null,d=null;for(e=t.length-1;e>=0;e--){var c=t[e];(!1===i||c.lat>i)&&(s=c,i=c.lat),(!1===n||c.lat<n)&&(a=c,n=c.lat),(!1===o||c.lng>o)&&(l=c,o=c.lng),(!1===r||c.lng<r)&&(h=c,r=c.lng)}return n!==i?(d=a,u=s):(d=h,u=l),[].concat(this.buildConvexHull([d,u],t),this.buildConvexHull([u,d],t))}},L.MarkerCluster.include({getConvexHull:function(){var t,e,i=this.getAllChildMarkers(),n=[];for(e=i.length-1;e>=0;e--)t=i[e].getLatLng(),n.push(t);return L.QuickHull.getConvexHull(n)}}),L.MarkerCluster.include({_2PI:2*Math.PI,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(this._group._spiderfied!==this&&!this._group._inZoomAnimation){var t,e=this.getAllChildMarkers(null,!0),i=this._group._map.latLngToLayerPoint(this._latlng);this._group._unspiderfy(),this._group._spiderfied=this,this._group.options.spiderfyShapePositions?t=this._group.options.spiderfyShapePositions(e.length,i):e.length>=this._circleSpiralSwitchover?t=this._generatePointsSpiral(e.length,i):(i.y+=10,t=this._generatePointsCircle(e.length,i)),this._animationSpiderfy(e,t)}},unspiderfy:function(t){this._group._inZoomAnimation||(this._animationUnspiderfy(t),this._group._spiderfied=null)},_generatePointsCircle:function(t,e){var i,n,o=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+t)/this._2PI,r=this._2PI/t,s=[];for(o=Math.max(o,35),s.length=t,i=0;i<t;i++)n=this._circleStartAngle+i*r,s[i]=new L.Point(e.x+o*Math.cos(n),e.y+o*Math.sin(n))._round();return s},_generatePointsSpiral:function(t,e){var i,n=this._group.options.spiderfyDistanceMultiplier,o=n*this._spiralLengthStart,r=n*this._spiralFootSeparation,s=n*this._spiralLengthFactor*this._2PI,a=0,l=[];for(l.length=t,i=t;i>=0;i--)i<t&&(l[i]=new L.Point(e.x+o*Math.cos(a),e.y+o*Math.sin(a))._round()),o+=s/(a+=r/o+5e-4*i);return l},_noanimationUnspiderfy:function(){var t,e,i=this._group,n=i._map,o=i._featureGroup,r=this.getAllChildMarkers(null,!0);for(i._ignoreMove=!0,this.setOpacity(1),e=r.length-1;e>=0;e--)o.removeLayer(t=r[e]),t._preSpiderfyLatlng&&(t.setLatLng(t._preSpiderfyLatlng),delete t._preSpiderfyLatlng),t.setZIndexOffset&&t.setZIndexOffset(0),t._spiderLeg&&(n.removeLayer(t._spiderLeg),delete t._spiderLeg);i.fire("unspiderfied",{cluster:this,markers:r}),i._ignoreMove=!1,i._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(t,e){var i,n,o,r,s=this._group,a=s._map,l=s._featureGroup,h=this._group.options.spiderLegPolylineOptions;for(s._ignoreMove=!0,i=0;i<t.length;i++)r=a.layerPointToLatLng(e[i]),n=t[i],o=new L.Polyline([this._latlng,r],h),a.addLayer(o),n._spiderLeg=o,n._preSpiderfyLatlng=n._latlng,n.setLatLng(r),n.setZIndexOffset&&n.setZIndexOffset(1e6),l.addLayer(n);this.setOpacity(.3),s._ignoreMove=!1,s.fire("spiderfied",{cluster:this,markers:t})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(t,e){var i,n,o,r,s,a,l=this,h=this._group,u=h._map,d=h._featureGroup,c=this._latlng,_=u.latLngToLayerPoint(c),p=L.Path.SVG,f=L.extend({},this._group.options.spiderLegPolylineOptions),m=f.opacity;for(void 0===m&&(m=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),p?(f.opacity=0,f.className=(f.className||"")+" leaflet-cluster-spider-leg"):f.opacity=m,h._ignoreMove=!0,i=0;i<t.length;i++)n=t[i],a=u.layerPointToLatLng(e[i]),o=new L.Polyline([c,a],f),u.addLayer(o),n._spiderLeg=o,p&&(s=(r=o._path).getTotalLength()+.1,r.style.strokeDasharray=s,r.style.strokeDashoffset=s),n.setZIndexOffset&&n.setZIndexOffset(1e6),n.clusterHide&&n.clusterHide(),d.addLayer(n),n._setPos&&n._setPos(_);for(h._forceLayout(),h._animationStart(),i=t.length-1;i>=0;i--)a=u.layerPointToLatLng(e[i]),(n=t[i])._preSpiderfyLatlng=n._latlng,n.setLatLng(a),n.clusterShow&&n.clusterShow(),p&&((r=(o=n._spiderLeg)._path).style.strokeDashoffset=0,o.setStyle({opacity:m}));this.setOpacity(.3),h._ignoreMove=!1,setTimeout((function(){h._animationEnd(),h.fire("spiderfied",{cluster:l,markers:t})}),200)},_animationUnspiderfy:function(t){var e,i,n,o,r,s,a=this,l=this._group,h=l._map,u=l._featureGroup,d=t?h._latLngToNewLayerPoint(this._latlng,t.zoom,t.center):h.latLngToLayerPoint(this._latlng),c=this.getAllChildMarkers(null,!0),_=L.Path.SVG;for(l._ignoreMove=!0,l._animationStart(),this.setOpacity(1),i=c.length-1;i>=0;i--)(e=c[i])._preSpiderfyLatlng&&(e.closePopup(),e.setLatLng(e._preSpiderfyLatlng),delete e._preSpiderfyLatlng,s=!0,e._setPos&&(e._setPos(d),s=!1),e.clusterHide&&(e.clusterHide(),s=!1),s&&u.removeLayer(e),_&&(r=(o=(n=e._spiderLeg)._path).getTotalLength()+.1,o.style.strokeDashoffset=r,n.setStyle({opacity:0})));l._ignoreMove=!1,setTimeout((function(){var t=0;for(i=c.length-1;i>=0;i--)(e=c[i])._spiderLeg&&t++;for(i=c.length-1;i>=0;i--)(e=c[i])._spiderLeg&&(e.clusterShow&&e.clusterShow(),e.setZIndexOffset&&e.setZIndexOffset(0),t>1&&u.removeLayer(e),h.removeLayer(e._spiderLeg),delete e._spiderLeg);l._animationEnd(),l.fire("unspiderfied",{cluster:a,markers:c})}),200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(t){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(t))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(t){this._spiderfied&&this._spiderfied.unspiderfy(t)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(t){t._spiderLeg&&(this._featureGroup.removeLayer(t),t.clusterShow&&t.clusterShow(),t.setZIndexOffset&&t.setZIndexOffset(0),this._map.removeLayer(t._spiderLeg),delete t._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(t){return t?t instanceof L.MarkerClusterGroup?t=t._topClusterLevel.getAllChildMarkers():t instanceof L.LayerGroup?t=t._layers:t instanceof L.MarkerCluster?t=t.getAllChildMarkers():t instanceof L.Marker&&(t=[t]):t=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(t),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(t),this},_flagParentsIconsNeedUpdate:function(t){var e,i;for(e in t)for(i=t[e].__parent;i;)i._iconNeedsUpdate=!0,i=i.__parent},_refreshSingleMarkerModeMarkers:function(t){var e,i;for(e in t)this.hasLayer(i=t[e])&&i.setIcon(this._overrideMarkerIcon(i))}}),L.Marker.include({refreshIconOptions:function(t,e){var i=this.options.icon;return L.setOptions(i,t),this.setIcon(i),e&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),t.MarkerClusterGroup=e,t.MarkerCluster=i,Object.defineProperty(t,"__esModule",{value:!0})}(e)},LboF:function(t,e,i){"use strict";var n,o=function(){var t={};return function(e){if(void 0===t[e]){var i=document.querySelector(e);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(n){i=null}t[e]=i}return t[e]}}(),r=[];function s(t){for(var e=-1,i=0;i<r.length;i++)if(r[i].identifier===t){e=i;break}return e}function a(t,e){for(var i={},n=[],o=0;o<t.length;o++){var a=t[o],l=e.base?a[0]+e.base:a[0],h=i[l]||0,u="".concat(l," ").concat(h);i[l]=h+1;var d=s(u),c={css:a[1],media:a[2],sourceMap:a[3]};-1!==d?(r[d].references++,r[d].updater(c)):r.push({identifier:u,updater:f(c,e),references:1}),n.push(u)}return n}function l(t){var e=document.createElement("style"),n=t.attributes||{};if(void 0===n.nonce){var r=i.nc;r&&(n.nonce=r)}if(Object.keys(n).forEach((function(t){e.setAttribute(t,n[t])})),"function"==typeof t.insert)t.insert(e);else{var s=o(t.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(e)}return e}var h,u=(h=[],function(t,e){return h[t]=e,h.filter(Boolean).join("\n")});function d(t,e,i,n){var o=i?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(t.styleSheet)t.styleSheet.cssText=u(e,o);else{var r=document.createTextNode(o),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(r,s[e]):t.appendChild(r)}}function c(t,e,i){var n=i.css,o=i.media,r=i.sourceMap;if(o?t.setAttribute("media",o):t.removeAttribute("media"),r&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}var _=null,p=0;function f(t,e){var i,n,o;if(e.singleton){var r=p++;i=_||(_=l(e)),n=d.bind(null,i,r,!1),o=d.bind(null,i,r,!0)}else i=l(e),n=c.bind(null,i,e),o=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(i)};return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else o()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=(void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n));var i=a(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var n=0;n<i.length;n++){var o=s(i[n]);r[o].references--}for(var l=a(t,e),h=0;h<i.length;h++){var u=s(i[h]);0===r[u].references&&(r[u].updater(),r.splice(u,1))}i=l}}}},MWin:function(t,n,o){"use strict";o.r(n),o.d(n,"MapsModule",(function(){return x}));var r=o("fXoL");o("ofXK"),o("2Vo4"),o("HDdC"),o("XNiG"),o("itXk"),o("eIep"),o("lJxs"),o("IzEk"),o("UXun"),o("1G5W");var s,a,l,h=((s=function t(){i(this,t)}).\u0275mod=r["\u0275\u0275defineNgModule"]({type:s}),s.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(t){return new(t||s)}}),s),u=o("OwhE"),d=o("DKVz"),c=o("aceb"),_=o("vTDv"),p=o("tyNb"),f=((a=function t(){i(this,t)}).\u0275fac=function(t){return new(t||a)},a.\u0275cmp=r["\u0275\u0275defineComponent"]({type:a,selectors:[["ngx-maps"]],decls:1,vars:0,template:function(t,e){1&t&&r["\u0275\u0275element"](0,"router-outlet")},directives:[p.h],encapsulation:2}),a),m=o("kkjf"),g=o("LFst"),y=o("FSR8"),v=((l=function(){function t(e,n){i(this,t),this.iamService=e,this.daraQueryService=n,this.numberDevices=34,this.logIn()}return e(t,[{key:"ngOnInit",value:function(){void 0!==this.rssi&&(this.distance=(.89976*Math.pow(1*-this.rssi/-59,7.7095)+.111).toFixed(2))}},{key:"deleteWifiRanges",value:function(t){console.log(t),this.map.removeLayer(t.wifi100),this.map.removeLayer(t.wifi300),this.map.removeLayer(t.wifi500),this.map.removeLayer(t.pl),console.log("deleted"),this.rangesExist=!0}},{key:"showWifiRanges",value:function(t){t.wifi100.addTo(this.map),t.wifi300.addTo(this.map),t.wifi500.addTo(this.map),this.rangesExist=!1}},{key:"logIn",value:function(){var t=this,e=new m.grpc.Metadata;e.headersMap.Authorization=["Basic c2Vuc2U6R01HZ3BHZz0="],this.iamService.authenticate(e).then((function(e){t.authjwt=e,t.fetchWiFiItems()}))}},{key:"fetchWiFiItems",value:function(){var t=this,e=new m.grpc.Metadata;e.headersMap.Authorization=["Bearer "+this.authjwt],this.daraQueryService.fetchWiFiItems(e).then((function(e){t.wfDevices=e,null==t.wfDevices[2]&&(t.wfDevices[2]="Unavailable Vendor"),t.nWFdevices=t.wfDevices.length}))}}]),t}()).\u0275fac=function(t){return new(t||l)(r["\u0275\u0275directiveInject"](y.a),r["\u0275\u0275directiveInject"](g.a))},l.\u0275cmp=r["\u0275\u0275defineComponent"]({type:l,selectors:[["ngx-gmaps"]],decls:44,vars:4,consts:[["status","success","size","large"],["large",""],["multi",""],["icon","square","status","danger"],["icon","square","status","success"],["icon","square","status","warning"],["nbButton","","hero","","status","success",3,"disabled","click"]],template:function(t,e){1&t&&(r["\u0275\u0275elementStart"](0,"nb-card",0),r["\u0275\u0275elementStart"](1,"nb-card-header"),r["\u0275\u0275text"](2),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](3,"nb-card-body",1),r["\u0275\u0275elementStart"](4,"nb-accordion",2),r["\u0275\u0275elementStart"](5,"nb-accordion-item"),r["\u0275\u0275elementStart"](6,"nb-accordion-item-header"),r["\u0275\u0275text"](7," Devices Detected "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](8,"nb-accordion-item-body"),r["\u0275\u0275element"](9,"br"),r["\u0275\u0275text"](10),r["\u0275\u0275element"](11,"p"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](12,"nb-accordion-item"),r["\u0275\u0275elementStart"](13,"nb-accordion-item-header"),r["\u0275\u0275text"](14," Detection Details "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](15,"nb-accordion-item-body"),r["\u0275\u0275elementStart"](16,"p"),r["\u0275\u0275element"](17,"nb-icon",3),r["\u0275\u0275text"](18," 100 meters: "),r["\u0275\u0275elementStart"](19,"span"),r["\u0275\u0275text"](20,"18 "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](21,"Devices"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](22,"p"),r["\u0275\u0275element"](23,"nb-icon",4),r["\u0275\u0275text"](24," 300 meters: "),r["\u0275\u0275elementStart"](25,"span"),r["\u0275\u0275text"](26,"9 "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](27,"Devices"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](28,"p"),r["\u0275\u0275element"](29,"nb-icon",5),r["\u0275\u0275text"](30," 500 meters: "),r["\u0275\u0275elementStart"](31,"span"),r["\u0275\u0275text"](32,"7 "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](33,"Devices"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](34,"nb-accordion-item"),r["\u0275\u0275elementStart"](35,"nb-accordion-item-header"),r["\u0275\u0275text"](36," Edit "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](37,"nb-accordion-item-body"),r["\u0275\u0275text"](38," A nebula is an interstellar cloud of dust, hydrogen, helium and other ionized gases. Originally, nebula was a name for any diffuse astronomical object, including galaxies beyond the Milky Way. "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](39,"nb-card-footer"),r["\u0275\u0275elementStart"](40,"button",6),r["\u0275\u0275listener"]("click",(function(){return e.deleteWifiRanges(e.listWifis)})),r["\u0275\u0275text"](41,"Delete Ranges"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](42,"button",6),r["\u0275\u0275listener"]("click",(function(){return e.showWifiRanges(e.listWifis)})),r["\u0275\u0275text"](43,"Show Ranges"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&t&&(r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate1"]("Device ID: ",e.deviceId,""),r["\u0275\u0275advance"](8),r["\u0275\u0275textInterpolate1"]("Number of detected devices (Last 24h): ",e.nWFdevices," "),r["\u0275\u0275advance"](30),r["\u0275\u0275property"]("disabled",e.rangesExist),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("disabled",!e.rangesExist))},directives:[c.u,c.x,c.t,c.g,c.i,c.j,c.h,c.L,c.v,c.q],styles:[".nb-theme-corporate   [_nghost-%COMP%]   nb-card-body[_ngcontent-%COMP%], .nb-theme-cosmic   [_nghost-%COMP%]   nb-card-body[_ngcontent-%COMP%], .nb-theme-dark   [_nghost-%COMP%]   nb-card-body[_ngcontent-%COMP%], .nb-theme-default   [_nghost-%COMP%]   nb-card-body[_ngcontent-%COMP%]{padding:0}"]}),l),L=o("4R65");o("tl+D"),o("JXP8"),o("pmIE");var b,C,M,w=[{path:"",component:f,children:[{path:"gmaps",component:v},{path:"leaflet",component:(b=function(){function t(e,n){i(this,t),this.router=e,this.dialogService=n,this.darkLayer=L.tileLayer("https://tiles.stadiamaps.com/tiles/alidade_smooth_dark/{z}/{x}/{y}{r}.png",{minZoom:1,maxZoom:17}),this.streetLayer=L.tileLayer("https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png",{maxZoom:19}),this.wRangeExist=!1,this.bRangeExist=!1,this.smallIcon=new L.Icon({iconUrl:"marker-icon.png",iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-icon-2x.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",shadowSize:[41,41]}),this.markers=L.markerClusterGroup()}return e(t,[{key:"ngAfterViewInit",value:function(){this.createMap(),this.initSensors()}},{key:"createMap",value:function(){this.map=L.map("map",{layers:[this.darkLayer],zoom:6,center:[23.2500874,42.1680221]})}},{key:"initSensors",value:function(){var t=this,e=[];e=this.getAllSensors();var i=[],n=0,o=new L.LayerGroup,r={Streets:this.streetLayer,"<span style='color: gray'>Smooth Dark</span>":this.darkLayer},s={Heat:o};e.forEach((function(e){var r=[e.lat,e.lng];t.addMarker(r,'<form id="popup-form">        <table class="popup-table">          <tr class="popup-table-row">            <th class="popup-table-header">Device number:</th>            <td id="value-id" class="popup-table-data">'+e.id+'</td>          </tr>          <tr class="popup-table-row">            <th class="popup-table-header">Location:</th>            <td id="value-location" class="popup-table-data">25 Rue de la libert\xe9</td>          </tr>          <tr class="popup-table-row">            <th class="popup-table-header">Internal Temperature (\xb0C):</th>            <td id="value-intemp" class="popup-table-data">10</td>          </tr>          <tr class="popup-table-row">            <th class="popup-table-header">External Temperature (\xb0C):</th>            <td id="value-extemp" class="popup-table-data">22</td>          </tr>          <tr class="popup-table-row">            <th class="popup-table-header">Humidity:</th>            <td id="value-humidity" class="popup-table-data">10%</td>          </tr>        </table>        <div class="button-center"><button id="button-wifi" class="button-range" type="button">Wifi Range</button>        <button id="button-bth" class="button-range" type="button">Bluetooth Range</button></div>        <p><button id="button-details" class="button-details" type="button">Device Dashboard</button>      </form>');var s=Math.random();r.push(s),i.push(r),L.heatLayer([i[n]],{radius:100,blur:30,maxZoom:10,max:1.1,gradient:{0:"green",.5:"yellow",1:"red"}}).addTo(o),n++})),L.control.layers(r,s).addTo(this.map)}},{key:"addMarker",value:function(t,e){var i=this,n=L.marker(t,{icon:this.smallIcon});this.markers.addLayer(n.bindPopup(e)),this.map.addLayer(this.markers),n.on("click",(function(t){i.centerLeafletMapOnMarker(i.map,n)}))}},{key:"centerLeafletMapOnMarker",value:function(t,e){var i=this,n=[e.getLatLng()],o=L.latLngBounds(n);this.wifiRange=L.circle(e.getLatLng(),{color:"red",fillColor:"#f02",fillOpacity:.3,radius:500,weight:2,opacity:.6}),this.bthRange=L.circle(e.getLatLng(),{color:"blue",fillColor:"blue",fillOpacity:.3,radius:300,weight:2,opacity:.6}),t.getBounds().equals(o)||t.flyToBounds(o,{duration:1.5,animate:!0,maxZoom:16}),document.getElementById("button-wifi").addEventListener("click",(function(n){i.showWifiRange(t,e)})),document.getElementById("button-bth").addEventListener("click",(function(e){i.showBluetoothRange(t,i.bthRange)})),document.getElementById("button-details").addEventListener("click",(function(t){var e=i.getSensorByLatLng(n);i.goToDash(e)}))}},{key:"goToDash",value:function(t){this.router.navigate(["sense-dashboard",t]).then((function(t){t?console.log("Navigation Successful"):console.log("Navigation has failed!")}))}},{key:"getSensorByLatLng",value:function(t){var e;return this.getAllSensors().forEach((function(i){t[0].lat===i.lat&&(e=i)})),e}},{key:"deleteWifiRange",value:function(t){t.removeLayer(this.wifiRange),t.removeLayer(this.pointsLayer),this.wRangeExist=!this.wRangeExist}},{key:"deleteBluetoothRange",value:function(t,e,i){e&&t.removeLayer(i),this.bRangeExist=!1}},{key:"showWifiRange",value:function(t,e){var i=this;if(this.wRangeExist)this.deleteWifiRange(t),console.log(this.wRangeExist);else{this.wifiRange.addTo(t).bindPopup('<b>WiFi Sensor Detection:  <p> Number of devices detected: 24   <button id="wifiDetails" class="wifiDetails" type="button">More Details</button>  ',{maxWidth:500,className:"wifiCustom"}).on("popupopen",(function(n){n.target.getPopup().getElement().querySelector(".wifiDetails").addEventListener("click",(function(n){i.showMoreWifi(t,e,i.wifiRange)}))})),this.wRangeExist=!this.wRangeExist,console.log(this.wRangeExist);for(var n=0,o=-1;n<10;)Math.random(),Math.random(),e.getLatLng(),o=-o,n++}}},{key:"open",value:function(t,e,i){this.dialogService.open(v,{hasBackdrop:t,dialogClass:"model-full",closeOnBackdropClick:!0,context:{deviceId:e,listWifis:i,map:this.map}})}},{key:"showMoreWifi",value:function(t,e,i){this.deleteWifiRange(t);var n=L.circle(e.getLatLng(),{color:"yellow",fillColor:"yellow",fillOpacity:.2,radius:500,weight:2,opacity:.4});n.addTo(t);var o=L.circle(e.getLatLng(),{color:"green",fillColor:"green",fillOpacity:.2,radius:300,weight:2,opacity:.4});o.addTo(t);var r=L.circle(e.getLatLng(),{color:"red",fillColor:"red",fillOpacity:.25,radius:100,weight:2,opacity:.3});r.addTo(t);var s=this.pointsLayer.addTo(t),a=this.getSensorByLatLng([e.getLatLng()]).id;this.open(!1,a,{wifi100:r,wifi300:o,wifi500:n,pl:s})}},{key:"showBluetoothRange",value:function(t,e){this.bRangeExist?(this.deleteBluetoothRange(t,this.bRangeExist,e),console.log(this.bRangeExist)):(e.addTo(t).bindPopup("Information about bt sensor range<br/> Number of devices detected: 15",{maxWidth:500,className:"bluetoothCustom"}),this.bRangeExist=!0)}},{key:"getAllSensors",value:function(){return[{lng:39.8837078586038,lat:21.3892533220828,desc:"Information about sensor 1",id:"P1"},{lng:39.87635399081,lat:21.3841929901112,desc:"Information about sensor 2",id:"P2"},{lng:39.8818532675329,lat:21.3727665064236,desc:"Information about sensor 3",id:"P3"},{lng:39.8934579204451,lat:21.3634992738935,desc:"Information about sensor 4",id:"P4"},{lng:39.9006863005136,lat:21.3711177447891,desc:"Information about sensor 5",id:"P5"},{lng:39.892697589233,lat:21.394660612454,desc:"Information about sensor 6",id:"P6"},{lng:39.9505995550427,lat:21.334674387227,desc:"Information about sensor 7",id:"P7"},{lng:39.8622278068378,lat:21.4267045161644,desc:"Information about sensor 6",id:"P8"},{lng:39.864781464973,lat:21.4235041011829,desc:"Information about sensor 6",id:"P9"},{lng:39.8788276912772,lat:21.4200944356745,desc:"Information about sensor 6",id:"P10"},{lng:39.8873745377238,lat:21.4172449706193,desc:"Information about sensor 6",id:"P11"},{lng:39.8773281729246,lat:21.4161434328237,desc:"Information about sensor 6",id:"P12"},{lng:39.9041980644818,lat:21.3984153260848,desc:"Information about sensor 6",id:"P13"},{lng:39.8568764856899,lat:21.4362350064081,desc:"Information about sensor 6",id:"P14"},{lng:39.8943355528259,lat:21.3905745680924,desc:"Information about sensor 6",id:"P15"},{lng:39.8976159234688,lat:21.4548374946379,desc:"Information about sensor 6",id:"P16"},{lng:39.9040014132449,lat:21.4326202590512,desc:"Information about sensor 6",id:"P17"},{lng:39.8842773276468,lat:21.4116476352212,desc:"Information about sensor 6",id:"P18"},{lng:39.8837116574599,lat:21.4170945583155,desc:"Information about sensor 6",id:"P19"},{lng:39.8929591201133,lat:21.426299988138,desc:"Information about sensor 6",id:"P20"},{lng:39.8992932432066,lat:21.4018798227671,desc:"Information about sensor 6",id:"P21"},{lng:39.892964119979,lat:21.4125184046726,desc:"Information about sensor 6",id:"P22"},{lng:39.8880898823331,lat:21.4092972253623,desc:"Information about sensor 6",id:"P23"},{lng:39.8777796479512,lat:21.4135671824687,desc:"Information about sensor 6",id:"P24"},{lng:39.9090299711926,lat:21.3884003849043,desc:"Information about sensor 6",id:"P25"},{lng:39.9797168816498,lat:21.3733245740706,desc:"Information about sensor 6",id:"P26"},{lng:39.9884128964555,lat:21.3686794125304,desc:"Information about sensor 6",id:"P27"},{lng:39.9862579142546,lat:21.3734775780012,desc:"Information about sensor 6",id:"P28"},{lng:39.9846109410572,lat:21.356135609431,desc:"Information about sensor 6",id:"P29"},{lng:39.9953301667742,lat:21.3400529927503,desc:"Information about sensor 6",id:"P30"},{lng:39.9773993082124,lat:21.3366203101518,desc:"Information about sensor 6",id:"P31"},{lng:39.959136553045,lat:21.3462293145453,desc:"Information about sensor 6",id:"P32"},{lng:39.9653035870079,lat:21.3520734430784,desc:"Information about sensor 6",id:"P33"},{lng:39.9695070167099,lat:21.3529009770434,desc:"Information about sensor 6",id:"P34"},{lng:39.9670945028223,lat:21.3542310108216,desc:"Information about sensor 6",id:"P38"},{lng:39.9748853184002,lat:21.3636849424547,desc:"Information about sensor 6",id:"P39"},{lng:39.9777254756245,lat:21.3504964379769,desc:"Information about sensor 6",id:"P40"},{lng:39.9829220426804,lat:21.3472906805655,desc:"Information about sensor 6",id:"P41"},{lng:39.9890305390963,lat:21.3575041335742,desc:"Information about sensor 6",id:"P42"},{lng:39.965826907818,lat:21.3471045501625,desc:"Information about sensor 6",id:"P43"},{lng:39.7793535126898,lat:21.4243582499648,desc:"Information about sensor 6",id:"P44"},{lng:39.9312933882401,lat:21.3755026897279,desc:"Information about sensor 6",id:"P45"},{lng:39.9682858651961,lat:21.3283379130386,desc:"Information about sensor 6",id:"P46"},{lng:39.9438527558251,lat:21.3412884991414,desc:"Information about sensor 6",id:"P47"},{lng:39.9805975987965,lat:21.3541462083455,desc:"Information about sensor 6",id:"P48"},{lng:39.9858835025128,lat:21.3514199059289,desc:"Information about sensor 6",id:"P49"},{lng:39.9758070798749,lat:21.3430296112207,desc:"Information about sensor 6",id:"P59"},{id:"P0",lng:10.790308,lat:59.847261,desc:"Information about sensor 0",location:"string",extemp:10,intemp:10,humidity:10,wfdd:25,btdd:9}]}}]),t}(),b.\u0275fac=function(t){return new(t||b)(r["\u0275\u0275directiveInject"](p.c),r["\u0275\u0275directiveInject"](c.H))},b.\u0275cmp=r["\u0275\u0275defineComponent"]({type:b,selectors:[["ngx-leaflet"]],decls:7,vars:0,consts:[["rel","stylesheet","href","https://leaflet.github.io/Leaflet.markercluster/dist/MarkerCluster.css"],["rel","stylesheet","href","https://leaflet.github.io/Leaflet.markercluster/dist/MarkerCluster.Default.css"],["id","map"]],template:function(t,e){1&t&&(r["\u0275\u0275element"](0,"link",0),r["\u0275\u0275element"](1,"link",1),r["\u0275\u0275elementStart"](2,"nb-card"),r["\u0275\u0275elementStart"](3,"nb-card-header"),r["\u0275\u0275text"](4,"Sense Map"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](5,"nb-card-body"),r["\u0275\u0275element"](6,"div",2),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]())},directives:[c.u,c.x,c.t],styles:[".nb-theme-default   [_nghost-%COMP%]   nb-card-body[_ngcontent-%COMP%]{padding:0}.nb-theme-default   [_nghost-%COMP%]     .leaflet-bottom, .nb-theme-default   [_nghost-%COMP%]     .leaflet-top{z-index:997}.nb-theme-default   [_nghost-%COMP%]     .leaflet-container{width:100%;height:44.25rem}.nb-theme-dark   [_nghost-%COMP%]   nb-card-body[_ngcontent-%COMP%]{padding:0}.nb-theme-dark   [_nghost-%COMP%]     .leaflet-bottom, .nb-theme-dark   [_nghost-%COMP%]     .leaflet-top{z-index:997}.nb-theme-dark   [_nghost-%COMP%]     .leaflet-container{width:100%;height:44.25rem}.nb-theme-cosmic   [_nghost-%COMP%]   nb-card-body[_ngcontent-%COMP%]{padding:0}.nb-theme-cosmic   [_nghost-%COMP%]     .leaflet-bottom, .nb-theme-cosmic   [_nghost-%COMP%]     .leaflet-top{z-index:997}.nb-theme-cosmic   [_nghost-%COMP%]     .leaflet-container{width:100%;height:44.25rem}.nb-theme-corporate   [_nghost-%COMP%]   nb-card-body[_ngcontent-%COMP%]{padding:0}.nb-theme-corporate   [_nghost-%COMP%]     .leaflet-bottom, .nb-theme-corporate   [_nghost-%COMP%]     .leaflet-top{z-index:997}.nb-theme-corporate   [_nghost-%COMP%]     .leaflet-container{width:100%;height:44.25rem}  .wifiCustom .leaflet-popup-content-wrapper,   .wifiCustom .leaflet-popup-tip{background:#ff7878;color:#fff;font-size:16px}  .bluetoothCustom .leaflet-popup-content-wrapper,   .bluetoothCustom .leaflet-popup-tip{background:#897ffd;color:#fff;font-size:16px}  .popup-table{width:100%}  .popup-table-row{background-color:silver}  .button-details{background-color:rgba(121,0,0,.6);border:none;color:#fff;padding:5px 15px;text-align:center;text-decoration:none;display:inline-block;font-size:12px;border-radius:8px;display:block;margin-left:auto;margin-right:auto}  .button-details:hover{background-color:#790000;color:#fff}  .button-details:active{background-color:#790000;box-shadow:0 2px #666;transform:translateY(1px)}  .button-range{background-color:rgba(26,0,121,.6);border:none;color:#fff;padding:5px 15px;text-align:center;text-decoration:none;display:inline-block;font-size:10px;border-radius:8px;margin-left:auto;margin-right:auto}  .button-range:hover{background-color:#1a0079;color:#fff}  .button-range:active{background-color:#1a0079;box-shadow:0 2px #666;transform:translateY(1px)}  .button-center{margin-left:auto;margin-right:auto;text-align:center}  .model-full{position:absolute!important;width:60%;top:20%!important;left:10%!important;margin:0 0 0 -150px!important}  .model-full .cdk-visually-hidden{width:99%!important;height:99%!important}  .model-full nb-dialog-container{width:100%!important;height:100%!important}"]}),b)}]}],k=((M=function t(){i(this,t)}).\u0275mod=r["\u0275\u0275defineNgModule"]({type:M}),M.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(t){return new(t||M)},imports:[[p.g.forChild(w)],p.g]}),M),x=((C=function t(){i(this,t)}).\u0275mod=r["\u0275\u0275defineNgModule"]({type:C}),C.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(t){return new(t||C)},imports:[[_.a,h,u.a.forRoot(),k,d.a,c.y,c.r,c.k,c.N]]}),C)},bMVF:function(t,e,i){},pmIE:function(t,e){!function(){"use strict";function t(e){return this instanceof t?(this._canvas=e="string"==typeof e?document.getElementById(e):e,this._ctx=e.getContext("2d"),this._width=e.width,this._height=e.height,this._max=1,void this.clear()):new t(e)}t.prototype={defaultRadius:25,defaultGradient:{.4:"blue",.6:"cyan",.7:"lime",.8:"yellow",1:"red"},data:function(t,e){return this._data=t,this},max:function(t){return this._max=t,this},add:function(t){return this._data.push(t),this},clear:function(){return this._data=[],this},radius:function(t,e){e=e||15;var i=this._circle=document.createElement("canvas"),n=i.getContext("2d"),o=this._r=t+e;return i.width=i.height=2*o,n.shadowOffsetX=n.shadowOffsetY=200,n.shadowBlur=e,n.shadowColor="black",n.beginPath(),n.arc(o-200,o-200,t,0,2*Math.PI,!0),n.closePath(),n.fill(),this},gradient:function(t){var e=document.createElement("canvas"),i=e.getContext("2d"),n=i.createLinearGradient(0,0,0,256);for(var o in e.width=1,e.height=256,t)n.addColorStop(o,t[o]);return i.fillStyle=n,i.fillRect(0,0,1,256),this._grad=i.getImageData(0,0,1,256).data,this},draw:function(t){this._circle||this.radius(this.defaultRadius),this._grad||this.gradient(this.defaultGradient);var e=this._ctx;e.clearRect(0,0,this._width,this._height);for(var i,n=0,o=this._data.length;o>n;n++)i=this._data[n],e.globalAlpha=Math.max(i[2]/this._max,t||.05),e.drawImage(this._circle,i[0]-this._r,i[1]-this._r);var r=e.getImageData(0,0,this._width,this._height);return this._colorize(r.data,this._grad),e.putImageData(r,0,0),this},_colorize:function(t,e){for(var i,n=3,o=t.length;o>n;n+=4)(i=4*t[n])&&(t[n-3]=e[i],t[n-2]=e[i+1],t[n-1]=e[i+2])}},window.simpleheat=t}(),L.HeatLayer=(L.Layer?L.Layer:L.Class).extend({initialize:function(t,e){this._latlngs=t,L.setOptions(this,e)},setLatLngs:function(t){return this._latlngs=t,this.redraw()},addLatLng:function(t){return this._latlngs.push(t),this.redraw()},setOptions:function(t){return L.setOptions(this,t),this._heat&&this._updateOptions(),this.redraw()},redraw:function(){return!this._heat||this._frame||this._map._animating||(this._frame=L.Util.requestAnimFrame(this._redraw,this)),this},onAdd:function(t){this._map=t,this._canvas||this._initCanvas(),t._panes.overlayPane.appendChild(this._canvas),t.on("moveend",this._reset,this),t.options.zoomAnimation&&L.Browser.any3d&&t.on("zoomanim",this._animateZoom,this),this._reset()},onRemove:function(t){t.getPanes().overlayPane.removeChild(this._canvas),t.off("moveend",this._reset,this),t.options.zoomAnimation&&t.off("zoomanim",this._animateZoom,this)},addTo:function(t){return t.addLayer(this),this},_initCanvas:function(){var t=this._canvas=L.DomUtil.create("canvas","leaflet-heatmap-layer leaflet-layer"),e=L.DomUtil.testProp(["transformOrigin","WebkitTransformOrigin","msTransformOrigin"]);t.style[e]="50% 50%";var i=this._map.getSize();t.width=i.x,t.height=i.y;var n=this._map.options.zoomAnimation&&L.Browser.any3d;L.DomUtil.addClass(t,"leaflet-zoom-"+(n?"animated":"hide")),this._heat=simpleheat(t),this._updateOptions()},_updateOptions:function(){this._heat.radius(this.options.radius||this._heat.defaultRadius,this.options.blur),this.options.gradient&&this._heat.gradient(this.options.gradient),this.options.max&&this._heat.max(this.options.max)},_reset:function(){var t=this._map.containerPointToLayerPoint([0,0]);L.DomUtil.setPosition(this._canvas,t);var e=this._map.getSize();this._heat._width!==e.x&&(this._canvas.width=this._heat._width=e.x),this._heat._height!==e.y&&(this._canvas.height=this._heat._height=e.y),this._redraw()},_redraw:function(){var t,e,i,n,o,r,s,a,l,h=[],u=this._heat._r,d=this._map.getSize(),c=new L.Bounds(L.point([-u,-u]),d.add([u,u])),_=void 0===this.options.max?1:this.options.max,p=void 0===this.options.maxZoom?this._map.getMaxZoom():this.options.maxZoom,f=1/Math.pow(2,Math.max(0,Math.min(p-this._map.getZoom(),12))),m=u/2,g=[],y=this._map._getMapPanePos(),v=y.x%m,b=y.y%m;for(t=0,e=this._latlngs.length;e>t;t++)i=this._map.latLngToContainerPoint(this._latlngs[t]),c.contains(i)&&(o=Math.floor((i.x-v)/m)+2,r=Math.floor((i.y-b)/m)+2,l=(void 0!==this._latlngs[t].alt?this._latlngs[t].alt:void 0!==this._latlngs[t][2]?+this._latlngs[t][2]:1)*f,g[r]=g[r]||[],(n=g[r][o])?(n[0]=(n[0]*n[2]+i.x*l)/(n[2]+l),n[1]=(n[1]*n[2]+i.y*l)/(n[2]+l),n[2]+=l):g[r][o]=[i.x,i.y,l]);for(t=0,e=g.length;e>t;t++)if(g[t])for(s=0,a=g[t].length;a>s;s++)(n=g[t][s])&&h.push([Math.round(n[0]),Math.round(n[1]),Math.min(n[2],_)]);this._heat.data(h).draw(this.options.minOpacity),this._frame=null},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),i=this._map._getCenterOffset(t.center)._multiplyBy(-e).subtract(this._map._getMapPanePos());L.DomUtil.setTransform?L.DomUtil.setTransform(this._canvas,i,e):this._canvas.style[L.DomUtil.TRANSFORM]=L.DomUtil.getTranslateString(i)+" scale("+e+")"}}),L.heatLayer=function(t,e){return new L.HeatLayer(t,e)}},"tl+D":function(t,e,i){var n=i("LboF"),o=i("bMVF");"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]),n(o,{insert:"head",singleton:!1}),t.exports=o.locals||{}}}])}();